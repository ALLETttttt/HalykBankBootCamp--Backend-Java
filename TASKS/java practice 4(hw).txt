Реализовать паттерн "Фабрика". Пример можно будет увидет в записи